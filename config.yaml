# Document Intelligence Application Configuration
# This file contains ALL configuration settings
# Sensitive values (passwords, tokens) should be stored in Databricks secrets

# Application Configuration
application:
  name: "Document Intelligence"
  debug_mode: false
  log_level: "INFO"
  secrets_scope: "doc-intelligence"

# Databricks Configuration
databricks:
  host: "https://your-workspace.cloud.databricks.com"
  token: "your-databricks-token"

agent:
  # Endpoints - will be read from secrets if null
  llm_endpoint: null
  embedding_endpoint: databricks-gte-large

  # Job configuration for DocumentService
  job_id: null # Optional: existing job ID to use
  default_cluster_key: "default_cluster"
  processing_notebook_path: "/Workspace/Users/scott.mckean@databricks.com/Repos/doc-intelligence-app/ai_parse_with_db.ipynb"

  # LLM Configuration
  llm:
    max_tokens: 512
    temperature: 0.1
    endpoint: databricks-claude-sonnet-4

  # RAG Configuration
  rag:
    chunk_size: 1000
    chunk_overlap: 200
    similarity_threshold: 0.7
    max_results: 5

  # Conversation Configuration
  conversation:
    max_history_messages: 10
    title_generation_enabled: true
    auto_title: true
    persistent_state: true

  # Checkpointer Configuration
  checkpointer:
    type: "auto" # Options: "postgres", "memory", "auto"

# DatabaseService Configuration
database:
  instance_name: "shm"
  host: "instance-f2715363-23e1-4f98-9d15-2b83f17e6d39.database.azuredatabricks.net"
  port: 5432
  database: "databricks_postgres"
  user: "scott.mckean@databricks.com"

  # Database pool configuration
  pool_size: 5
  max_overflow: 10
  pool_timeout: 30

  # Connection options
  sslmode: "prefer" # Options: disable, allow, prefer, require
  connect_timeout: 10

# StorageService Configuration
storage:
  volume_path: "/Volumes/shm/default/raw_pdfs"
  max_file_size_mb: 30
  allowed_extensions: [".pdf", ".txt", ".docx", ".md"]

# DocumentService Configuration
document:
  timeout_minutes: 30
  max_retries: 3
  auto_process: true
  generate_summary: true

# EmbeddingService Configuration
embedding:
  chunk_size: 1000
  chunk_overlap: 200
  batch_size: 10
  endpoint: databricks-gte-large-en

  # Vector Store Configuration
  vector_store:
    collection_name: "parsed_pages"
    embedding_dimension: 1024
